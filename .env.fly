# Fly.io Environment Setup

To deploy the application to Fly.io, you need to set the following secrets and environment variables.

## API Secrets

Run the following commands to set the secrets for the API application:

```bash
fly secrets set MONGO_URI="mongodb+srv://linikers:r2r8x4r5@gsimulado.pczvwfh.mongodb.net/?appName=gsimulado" -a gsimulados-api
fly secrets set JWT_SECRET="DVegR2NmyswLuOgCAOy352MT4K3L8DnGMSYHiqO3SwuPqPugzQNLmkascMY88/9h+Hmt5z/HVcpyUXyiMRgFFg==" -a gsimulados-api
fly secrets set CLOUDINARY_CLOUD_NAME="drvnlgib2" -a gsimulados-api
fly secrets set CLOUDINARY_API_KEY="458113258441785" -a gsimulados-api
fly secrets set CLOUDINARY_API_SECRET="ssm4QNRhYHJbTA9U7suutrhkotc" -a gsimulados-api
fly secrets set GEMINI_API_KEY="AIzaSyAlJM88g5Yga9SazCmGWrzQ7suARBp9r7k" -a gsimulados-api

# Google Drive (Service Account)
# É necessário passar o conteúdo do JSON em uma única linha. 
# Dica: use `cat service-account.json | jq -c .` para minificar se tiver jq instalado, 
# ou simplesmente remova as quebras de linha manualmente.
fly secrets set GOOGLE_SERVICE_ACCOUNT='{"type": "service_account", ...}' -a gsimulados-api
```

## Web Secrets

The web application uses build-time environment variables. These are defined in `apps/web/fly.toml` under `[build.args]`.

If you need to change the API URL, update `apps/web/fly.toml`:

```toml
[build.args]
  VITE_API_URL = "https://gsimulados-api.fly.dev"
```
